02-10-2025 22:50:36 | - Step 1: POST '/api/auth/v1/company/login'
02-10-2025 22:50:38 | 
➡️  Request Sent:
curl --location --request POST 'https://lirunex-global-mb.webtrader-sit.s20ip12.com/api/auth/v1/company/login' 
--header 'User-Agent: python-requests/2.32.5' 
--header 'Accept-Encoding: gzip, deflate' 
--header 'Accept: */*' 
--header 'Connection: keep-alive' 
--header 'Content-Length: 88' 
--header 'Content-Type: application/json' 
--data-raw '{"source": "WEB", "userId": "mt5_automation58@mailinator.com", "password": "Auto@12345"}'

⬅️  Response Received:
{
   "code": "200",
   "result": {
      "token": "eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjpbIlJPTEVfVVNFUiJdLCJsb2dpblRpbWUiOjE3NTk0MjAyMzgyOTMsIm1ldGF0cmFkZXJJZCI6IjU2OTIwNTU1MyIsInRlbmFudElkIjoibGlydW5leCIsIm9tc1NlcnZlcklkIjoibGlydW5leC1vbXMtMiIsInNvdXJjZSI6IldFQiIsInR5cGUiOiJNRU1CRVIiLCJ1c2VySWQiOiI0NTQwIiwic3ViIjoiNDU0MCIsImlhdCI6MTc1OTQyMDIzOCwiZXhwIjoxNzYyMDEyMjM4fQ.OD9XuoFbfUtFicJrX4nqf1HUaXWMmMSphs0hCEra5jjPJ5gFiSZYG3RQMFJboNeLmS9qPXLQoVXe4OS9tLJHUw",
      "user": {
         "source": "WEB",
         "metatraderId": "569205553",
         "metatraderGroup": "demo\\forex-hedge-usd-01",
         "isDemo": false,
         "traderSubcription": "lirunex-oms-2|LIVE|569205553",
         "marketSubcription": "lirunex-oms-2|LIVE|demo\\forex-hedge-usd-01",
         "traderSubscription": "lirunex-oms-2|LIVE|569205553",
         "marketSubscription": "lirunex-oms-2|LIVE|demo\\forex-hedge-usd-01",
         "tenantId": "lirunex",
         "mainProductCode": "METATRADER5",
         "omsServerId": "lirunex-oms-2"
      }
   }
}
02-10-2025 22:50:38 | ✘ Verify JSON schema
02-10-2025 22:50:38 |   JSON schema validation failed: 'key_error' is a required property [result.user]
02-10-2025 22:50:38 | ✘ Verify status code 201
               			  [Expected] : 201	[Actual] : 200
02-10-2025 22:50:38 | ✘ Verify response time in seconds (1.079s < 1s) [ POST /api/auth/v1/company/login ]
               			  [Expected] : 1s	[Actual] : 1.079s
02-10-2025 22:50:38 | ✓ Verify payload (Key: code)
02-10-2025 22:50:38 |   [EQUALS] 200
02-10-2025 22:50:38 | ✘ Verify payload (Key: result.user.metatraderId)
02-10-2025 22:50:38 |   [EQUALS] mt5_automation58@mailinator.com 	 [Actual]: 569205553
02-10-2025 22:50:38 | ✓ Verify payload (Key: result.user.metatraderId)
02-10-2025 22:50:38 |   [NOT EQUALS] mt5_automation58@mailinator.com
02-10-2025 22:50:38 | ✓ Verify payload (Key: result.user)
02-10-2025 22:50:38 |   [CONTAINS] {
    "source": "WEB",
    "isDemo": false,
    "tenantId": "lirunex",
    "mainProductCode": "METATRADER5",
    "omsServerId": "lirunex-oms-2"
}
02-10-2025 22:50:38 | - Step 2: POST '/api/auth/v1/company/login' without attach log to allure
02-10-2025 22:50:38 | 
➡️  Request Sent:
curl --location --request POST 'https://lirunex-global-mb.webtrader-sit.s20ip12.com/api/auth/v1/company/login' 
--header 'User-Agent: python-requests/2.32.5' 
--header 'Accept-Encoding: gzip, deflate' 
--header 'Accept: */*' 
--header 'Connection: keep-alive' 
--header 'Content-Length: 88' 
--header 'Content-Type: application/json' 
--data-raw '{"source": "WEB", "userId": "mt5_automation58@mailinator.com", "password": "Auto@12345"}'

⬅️  Response Received:
{
   "code": "200",
   "result": {
      "token": "eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjpbIlJPTEVfVVNFUiJdLCJsb2dpblRpbWUiOjE3NTk0MjAyMzkxOTgsIm1ldGF0cmFkZXJJZCI6IjU2OTIwNTU1MyIsInRlbmFudElkIjoibGlydW5leCIsIm9tc1NlcnZlcklkIjoibGlydW5leC1vbXMtMiIsInNvdXJjZSI6IldFQiIsInR5cGUiOiJNRU1CRVIiLCJ1c2VySWQiOiI0NTQwIiwic3ViIjoiNDU0MCIsImlhdCI6MTc1OTQyMDIzOSwiZXhwIjoxNzYyMDEyMjM5fQ.sg77zaahzMjQFxxgKQv2ntnxwG4-dr0w5_p21B7Bu9o11RatcATZE52ZQR98qD3YziHr5IgvQkegYA7yINgSJw",
      "user": {
         "source": "WEB",
         "metatraderId": "569205553",
         "metatraderGroup": "demo\\forex-hedge-usd-01",
         "isDemo": false,
         "traderSubcription": "lirunex-oms-2|LIVE|569205553",
         "marketSubcription": "lirunex-oms-2|LIVE|demo\\forex-hedge-usd-01",
         "traderSubscription": "lirunex-oms-2|LIVE|569205553",
         "marketSubscription": "lirunex-oms-2|LIVE|demo\\forex-hedge-usd-01",
         "tenantId": "lirunex",
         "mainProductCode": "METATRADER5",
         "omsServerId": "lirunex-oms-2"
      }
   }
}
02-10-2025 22:50:38 | ✓ Verify status code 200
02-10-2025 22:50:38 | ✘ Verify response time in milliseconds (878ms < 500ms) [ POST /api/auth/v1/company/login ]
               			  [Expected] : 500ms	[Actual] : 878ms
02-10-2025 22:50:38 | - Step 3: Update isDemo = True
02-10-2025 22:50:38 | ✘ Verify payload (Key: result.user)
02-10-2025 22:50:38 |   [CONTAINS] {
    "source": "WEB",
    "isDemo": true,
    "tenantId": "lirunex",
    "mainProductCode": "METATRADER5",
    "omsServerId": "lirunex-oms-2"
} 	 [Actual]: {
    "source": "WEB",
    "metatraderId": "569205553",
    "metatraderGroup": "demo\\forex-hedge-usd-01",
    "isDemo": false,
    "traderSubcription": "lirunex-oms-2|LIVE|569205553",
    "marketSubcription": "lirunex-oms-2|LIVE|demo\\forex-hedge-usd-01",
    "traderSubscription": "lirunex-oms-2|LIVE|569205553",
    "marketSubscription": "lirunex-oms-2|LIVE|demo\\forex-hedge-usd-01",
    "tenantId": "lirunex",
    "mainProductCode": "METATRADER5",
    "omsServerId": "lirunex-oms-2"
}